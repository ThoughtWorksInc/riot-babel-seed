<page-gallery-detail class="page-gallery-detail">

    <link rel="import" href='./components/gallery-list.tag.html'/>
    <link rel="import" href='./components/gallery-banner.tag.html'/>

    <gallery-banner title='{gallery.typeText}' type="{gallery.type}"/>

    <div class="container">

        <div if="{editable}" class="page-gallery-detail__tips">
            选择你喜欢的照片
        </div>

        <gallery-list gallery="{gallery}"
                      editable="{editable}"
                      on_album_change="{handleAlbumChange}"/>

        <div if="{editable && gallery.photos.length}">
            <footer-float>
                <button class='btn-save' onclick="{parent.saveAlbum}"
                        disabled="{parent.gallery.albumPhotos.length > parent.albumPhotoLengthMax}">
                    <span if={parent.gallery.albumPhotos} class="number-count">
                        {parent.gallery.albumPhotos.length}
                    </span>
                    {parent.gallery.albumPhotos.length > parent.albumPhotoLengthMax?'只允许选择 9 张':'完成'}
                </button>
            </footer-float>
        </div>

    </div>

    <script src="./page-gallery-detail.js"/>

</page-gallery-detail>